(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"79Qs":function(e,t,n){},KGHM:function(e,t,n){"use strict";n.r(t);n("K4yd");var a,r,i,c,s,o,u,l,d,p,f,h,m,w,y,b=n("9yH6"),v=(n("k3Gp"),n("kLXV")),k=(n("mbEz"),n("wCAj")),x=(n("L/Qf"),n("2/Rp")),g=(n("1vPl"),n("5rEg")),_=(n("aIZi"),n("jsC+")),E=(n("2WkQ"),n("BvKs")),O=(n("8/o9"),n("tsqr")),I=n("o0o1"),j=n.n(I),C=n("J4zp"),L=n.n(C),z=n("q1tI"),S=n.n(z),A=n("kMSe"),N=n("2vnA"),D=n("wd/R"),P=n.n(D),M=n("yG8O"),F=n.n(M),Y=n("lwsE"),G=n.n(Y),H=n("W8MJ"),K=n.n(H),R=n("U+yc"),Q=n.n(R),J=(n("1ABj"),n("vdCo")),T=(a=N.d.bound,r=N.d.bound,i=N.d.bound,c=N.d.bound,s=N.d.bound,o=N.d.bound,u=function(){function e(){G()(this,e),F()(this,"anchorList",l,this),F()(this,"activeList",d,this),F()(this,"fansList",p,this),F()(this,"orderList",f,this),F()(this,"pagenation",h,this),F()(this,"pagenationActive",m,this),F()(this,"pagenationFans",w,this),F()(this,"pagenationOrder",y,this)}return K()(e,[{key:"getAnchorList",value:function(e){var t;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.awrap(Object(J.a)("/api/v1/admin/user/list",e,!1));case 2:if(0!==(t=n.sent).code){n.next=7;break}return this.anchorList=t.data.list,this.pagenation.total=t.data.total,n.abrupt("return",!0);case 7:return n.abrupt("return",!1);case 8:case"end":return n.stop()}}),null,this)}},{key:"editAnchor",value:function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(Object(J.a)("/api/v1/admin/user/edit",e,!1));case 2:if(0!==t.sent.code){t.next=5;break}return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}))}},{key:"getActiveList",value:function(){var e;return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(Object(J.a)("/api/v1/admin/user/activity/ranking",{activity_id:"1"},!1));case 2:if(0!==(e=t.sent).code){t.next=6;break}return this.activeList=e.data.detail.rank,t.abrupt("return",!0);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),null,this)}},{key:"getFansList",value:function(e){var t;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.awrap(Object(J.a)("/api/v1/admin/user/fans/list",e,!1));case 2:if(0!==(t=n.sent).code){n.next=7;break}return this.fansList=t.data.list,this.pagenationFans=t.data.total,n.abrupt("return",!0);case 7:return n.abrupt("return",!1);case 8:case"end":return n.stop()}}),null,this)}},{key:"getOrderList",value:function(e){var t;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.awrap(Object(J.a)("/api/v1/admin/user/order/list",e,!1));case 2:if(0!==(t=n.sent).code){n.next=7;break}return this.orderList=t.data.list,this.pagenationOrder=t.data.total,n.abrupt("return",!0);case 7:return n.abrupt("return",!1);case 8:case"end":return n.stop()}}),null,this)}},{key:"frozenOrThaw",value:function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(Object(J.a)("/api/v1/admin/user/handle",e,!1));case 2:if(0!==t.sent.code){t.next=5;break}return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}))}}]),e}(),l=Q()(u.prototype,"anchorList",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=Q()(u.prototype,"activeList",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=Q()(u.prototype,"fansList",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=Q()(u.prototype,"orderList",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=Q()(u.prototype,"pagenation",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{page:1,page_size:10,total:0}}}),m=Q()(u.prototype,"pagenationActive",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{page:1,page_size:10,total:0}}}),w=Q()(u.prototype,"pagenationFans",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{page:1,page_size:10,total:0}}}),y=Q()(u.prototype,"pagenationOrder",[N.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{page:1,page_size:10,total:0}}}),Q()(u.prototype,"getAnchorList",[a],Object.getOwnPropertyDescriptor(u.prototype,"getAnchorList"),u.prototype),Q()(u.prototype,"editAnchor",[r],Object.getOwnPropertyDescriptor(u.prototype,"editAnchor"),u.prototype),Q()(u.prototype,"getActiveList",[i],Object.getOwnPropertyDescriptor(u.prototype,"getActiveList"),u.prototype),Q()(u.prototype,"getFansList",[c],Object.getOwnPropertyDescriptor(u.prototype,"getFansList"),u.prototype),Q()(u.prototype,"getOrderList",[s],Object.getOwnPropertyDescriptor(u.prototype,"getOrderList"),u.prototype),Q()(u.prototype,"frozenOrThaw",[o],Object.getOwnPropertyDescriptor(u.prototype,"frozenOrThaw"),u.prototype),u),q=Object(z.createContext)(new T),Z=n("lxvL"),B=(n("ZeME"),function(e){var t=e.isOpened,n=void 0!==t&&t,a=e.title,r=e.columns,i=void 0===r?[]:r,c=e.tableDataSource,s=void 0===c?[]:c,o=e.onClose,u=e.pagination,l=void 0===u?{}:u,d=e.onChangePagination;return console.log("list-wrap-modal"),S.a.createElement("div",{className:"list-wrap-modal",style:{display:n?"":"none"}},S.a.createElement(Z.a,{title:a,onClose:o}),S.a.createElement("div",{className:"list-wrap-modal-content"},S.a.createElement(k.a,{rowKey:function(e){return e.user_id},columns:i,dataSource:s,scroll:{y:"100%",x:"100%"},pagination:{position:["none","bottomRight"],total:l.total,pageSize:l.page_size,defaultCurrent:1},onChange:d})))}),W=(n("Pxbj"),1),U=2,V=3;t.default=Object(A.a)((function(){var e=Object(z.useContext)(q),t=e.anchorList,n=e.getAnchorList,a=e.activeList,r=e.fansList,i=e.orderList,c=e.pagenation,s=e.pagenationActive,o=e.pagenationFans,u=e.pagenationOrder,l=e.editAnchor,d=e.getActiveList,p=e.getFansList,f=e.getOrderList,h=e.frozenOrThaw,m=Object(z.useState)([]),w=L()(m,2),y=w[0],I=w[1],C=Object(z.useState)(""),A=L()(C,2),D=A[0],M=A[1],F=Object(z.useState)(""),Y=L()(F,2),G=Y[0],H=Y[1],K=Object(z.useState)(W),R=L()(K,2),Q=R[0],J=R[1],T=Object(z.useState)(!1),X=L()(T,2),$=X[0],ee=X[1],te=Object(z.useState)({}),ne=L()(te,2),ae=ne[0],re=ne[1],ie=Object(z.useState)(!1),ce=L()(ie,2),se=ce[0],oe=ce[1],ue=Object(z.useState)(""),le=L()(ue,2),de=le[0],pe=le[1],fe=Object(z.useState)(!1),he=L()(fe,2),me=he[0],we=he[1],ye=Object(z.useState)(""),be=L()(ye,2),ve=be[0],ke=be[1],xe=Object(z.useState)(!1),ge=L()(xe,2),_e=ge[0],Ee=ge[1],Oe=Object(z.useState)(""),Ie=L()(Oe,2),je=Ie[0],Ce=Ie[1],Le=Object(z.useState)(!1),ze=L()(Le,2),Se=ze[0],Ae=ze[1],Ne=Object(z.useState)(""),De=L()(Ne,2),Pe=De[0],Me=De[1],Fe=Object(z.useState)(!1),Ye=L()(Fe,2),Ge=Ye[0],He=Ye[1],Ke=function(){var e,t,a,r=arguments;return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,t=r.length>1&&void 0!==r[1]?r[1]:10,a=r.length>2&&void 0!==r[2]?r[2]:{},i.next=5,j.a.awrap(n({page:e,page_size:t,search:a}));case 5:case"end":return i.stop()}}))},Re=function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.awrap(d());case 2:case"end":return e.stop()}}))},Qe=function(e){var t,n,a,r=arguments;return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:1,n=r.length>2&&void 0!==r[2]?r[2]:10,a=r.length>3&&void 0!==r[3]?r[3]:{},i.next=5,j.a.awrap(p({page:t,page_size:n,search:a,user_id:e}));case 5:case"end":return i.stop()}}))},Je=function(e){var t,n,a,r=arguments;return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:1,n=r.length>2&&void 0!==r[2]?r[2]:10,a=r.length>3&&void 0!==r[3]?r[3]:{},i.next=5,j.a.awrap(f({page:t,page_size:n,search:a,user_id:e}));case 5:case"end":return i.stop()}}))},Te=function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(h(e));case 2:if(!t.sent){t.next=9;break}return O.a.success("操作成功"),t.next=7,j.a.awrap(Ke(1,10));case 7:t.next=10;break;case 9:O.a.error("操作失败");case 10:case"end":return t.stop()}}))},qe={selectedRowKeys:y,onChange:function(e,t){I(e),console.log(t)},getCheckboxProps:function(e){return{disabled:e.disabled}}},Ze=function(e){return S.a.createElement(E.a,{style:{width:"120px",textAlign:"center",overflow:"hidden"}},S.a.createElement(E.a.Item,{style:{width:"100%"},onClick:function(){return function(e){pe(e.parent_tiktok_uid),re(e),oe(!0)}(e)}},S.a.createElement("span",null,"编辑上级uid")),S.a.createElement(E.a.Item,{style:{width:"100%"},onClick:function(){return function(e){ke(e.tiktok_uid),re(e),we(!0)}(e)}},S.a.createElement("span",null,"编辑抖音uid")),S.a.createElement(E.a.Item,{style:{width:"100%"},onClick:function(){return function(e){Ce(e.is_origin),re(e),Ee(!0)}(e)}},S.a.createElement("span",null,"设置源用户")),S.a.createElement(E.a.Item,{style:{width:"100%"},onClick:function(){return function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(Je(e.user_id,1,10));case 2:re(e),J(V),ee(!0);case 5:case"end":return t.stop()}}))}(e)}},S.a.createElement("span",null,"查看订单")),S.a.createElement(E.a.Item,{style:{width:"100%"},onClick:function(){return function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(Qe(e.user_id,1,10));case 2:re(e),J(U),ee(!0);case 5:case"end":return t.stop()}}))}(e)}},S.a.createElement("span",null,"查看粉丝")),S.a.createElement(E.a.Item,{style:{width:"100%"},onClick:function(){return function(e){Me(e.is_team_leader),re(e),Ae(!0)}(e)}},S.a.createElement("span",null,"设置团队长")),S.a.createElement(E.a.Item,{style:{width:"100%"},onClick:function(){return function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:re(e),He(!0);case 2:case"end":return t.stop()}}))}(e)}},S.a.createElement("span",null,"冻结/解冻")))},Be=[{title:"用户uid",dataIndex:"user_id",key:"1",width:130},{title:"微信昵称",dataIndex:"nickname",key:"2",width:130},{title:"手机号",dataIndex:"mobile",key:"3",width:130},{title:"抖音uid",dataIndex:"tiktok_uid",key:"4",width:130},{title:"抖音号",dataIndex:"tiktok_nickname",key:"5",width:130},{title:"源用户",dataIndex:"is_origin",key:"6",width:130,render:function(e){return S.a.createElement("span",null,e?"是":"否")}},{title:"身份",dataIndex:"is_team_leader",key:"7",width:70,render:function(e){return S.a.createElement("span",null,e?"团长":"队员")}},{title:"上级uid",dataIndex:"parent_tiktok_uid",key:"8",width:130},{title:"累计销售金额",dataIndex:"total_sell_amount",key:"9",width:130},{title:"累计佣金",dataIndex:"total_bonus",key:"10",width:130},{title:"当前余额",dataIndex:"available",key:"11",width:92},{title:"下级数量",dataIndex:"fans_amount",key:"12",width:92},{title:"入驻时间",dataIndex:"create_at",key:"13",width:190,render:function(e){return S.a.createElement("span",null,P()(1e3*e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"操作",key:"operation",fixed:"right",width:100,render:function(e){return S.a.createElement(_.a,{overlay:function(){return Ze(e)}},S.a.createElement("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},"菜单"))}}],We=[{title:"用户uid",dataIndex:"user_id",key:"1",width:130},{title:"微信昵称",dataIndex:"nickname",key:"2",width:130},{title:"手机号",dataIndex:"mobile",key:"3",width:130},{title:"抖音uid",dataIndex:"tiktok_uid",key:"4",width:130},{title:"抖音号",dataIndex:"tiktok_nickname",key:"5",width:130},{title:"抖音订单号",dataIndex:"",key:"6",width:130},{title:"身份",dataIndex:"is_team_leader",key:"7",width:70},{title:"上级uid",dataIndex:"parent_tiktok_uid",key:"8",width:130},{title:"累计销售金额",dataIndex:"total_sell_amount",key:"9",width:130},{title:"累计佣金",dataIndex:"total_bonus",key:"10",width:130},{title:"当前余额",dataIndex:"available",key:"11",width:92},{title:"下级数量",dataIndex:"fans_amount",key:"12",width:92},{title:"入驻时间",dataIndex:"create_at",key:"13",width:190,render:function(e){return S.a.createElement("span",null,P()(1e3*e).format("YYYY-MM-DD HH:mm:ss"))}}],Ue=[{title:"uid",dataIndex:"uid",key:"1",width:113},{title:"订单号",dataIndex:"order_id",key:"2",width:130},{title:"商品信息",dataIndex:"product_name",key:"3",width:230},{title:"订单金额",dataIndex:"total_amount",key:"4",width:130,render:function(e){return S.a.createElement("span",null,"¥ ",e)}},{title:"佣金比例",dataIndex:"bonus_rate",key:"5",width:91},{title:"佣金",dataIndex:"bonus",key:"6",width:91},{title:"二级佣金比例",dataIndex:"sec_bonus_rate",key:"7",width:130},{title:"二级佣金",dataIndex:"sec_bonus",key:"8",width:91},{title:"团队长佣金比例",dataIndex:"trd_bonus_rate",key:"9",width:140},{title:"团队长佣金",dataIndex:"trd_bonus",key:"10",width:130},{title:"订单状态",dataIndex:"status_msg",key:"11",width:115},{title:"佣金状态",dataIndex:"",key:"12",width:115}],Ve=function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(l(e));case 2:t.sent?(O.a.success("修改成功"),Ke()):O.a.error("修改失败");case 4:case"end":return t.stop()}}))};return Object(z.useEffect)((function(){Ke()}),[]),S.a.createElement("div",{className:"anchor-manage-list"},S.a.createElement(Z.a,{className:"list-head",title:"主播管理",onGetActiveList:function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$){e.next=4;break}ee(!1),e.next=8;break;case 4:return J(W),e.next=7,j.a.awrap(Re());case 7:ee(!0);case 8:case"end":return e.stop()}}))}}),S.a.createElement("div",{className:"list-content"},S.a.createElement("div",{className:"list-content-inner"},S.a.createElement("div",{className:"inner-wrap"},S.a.createElement("div",{className:"inner-wrap-head"},S.a.createElement("div",{className:"head-item"},S.a.createElement("span",null,"抖音uid："),S.a.createElement(g.a,{style:{width:"250px"},value:D,onChange:function(e){return M(e.target.value)}}),S.a.createElement(x.a,{className:"search-btn",type:"primary",onClick:function(){D&&Ke(1,10,{tiktok_uid:D})}},"查询"),S.a.createElement(x.a,{className:"reset-btn",onClick:function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return M(""),e.next=3,j.a.awrap(Ke());case 3:case"end":return e.stop()}}))}},"重置")),S.a.createElement("div",{className:"head-item"},S.a.createElement("span",null,"手机号："),S.a.createElement(g.a,{style:{width:"250px"},value:G,onChange:function(e){return H(e.target.value)}}),S.a.createElement(x.a,{className:"search-btn",type:"primary",onClick:function(){Ke(1,10,{mobile:G})}},"查询"),S.a.createElement(x.a,{className:"reset-btn",onClick:function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return H(""),e.next=3,j.a.awrap(Ke());case 3:case"end":return e.stop()}}))}},"重置"))),S.a.createElement("div",{className:"inner-wrap-content"},S.a.createElement(k.a,{rowKey:function(e){return e.user_id},columns:Be,dataSource:t,rowSelection:qe,scroll:{y:"100%",x:"100%"},pagination:{position:["none","bottomRight"],total:Object(N.o)(c).total,pageSize:c.page_size,defaultCurrent:1},onChange:function(e){Ke(e.current)}}))))),console.log(Q,Object(N.o)(r)),S.a.createElement(B,{isOpened:$,title:Q===W?"双十一活动排行榜":"".concat(ae.nickname,Q===U?"粉丝列表":"订单列表"),columns:1===Q?[{title:"用户uid",dataIndex:"user_id",key:"1",width:130},{title:"微信昵称",dataIndex:"nickname",key:"2",width:130},{title:"手机号",dataIndex:"mobile",key:"3",width:130},{title:"累计销售金额",dataIndex:"total_amount",key:"9",width:130}]:2===Q?We:Ue,tableDataSource:Q===W?Object(N.o)(a):Q===U?Object(N.o)(r):Object(N.o)(i),pagination:Q===W?Object(N.o)(s):Q===U?Object(N.o)(o):Object(N.o)(u),onClose:function(){return ee(!1)},onChangePagination:function(e){Q===W&&Re(e.current),Q===U&&Qe(ae.user_id,e.current),Q===V&&Je(ae.user_id,e.current)}}),S.a.createElement(v.a,{title:"编辑上级uid",visible:se,onOk:function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.awrap(Ve({user_id:ae.user_id,parent_tiktok_uid:de}));case 2:oe(!1);case 3:case"end":return e.stop()}}))},onCancel:function(){oe(!1)}},S.a.createElement("p",null,"上级uid"),S.a.createElement(g.a,{value:de,onChange:function(e){pe(e.target.value)}})),S.a.createElement(v.a,{title:"编辑抖音uid",visible:me,onOk:function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.awrap(Ve({user_id:ae.user_id,tiktok:{uid:ve}}));case 2:we(!1);case 3:case"end":return e.stop()}}))},onCancel:function(){we(!1)}},S.a.createElement("p",null,"抖音uid"),S.a.createElement(g.a,{value:ve,onChange:function(e){ke(e.target.value)}})),S.a.createElement(v.a,{title:"设置源用户",visible:_e,onOk:function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.awrap(Ve({user_id:ae.user_id,account:{is_origin:je}}));case 2:Ee(!1);case 3:case"end":return e.stop()}}))},onCancel:function(){Ee(!1)}},S.a.createElement("p",null,"源用户"),S.a.createElement(b.default.Group,{onChange:function(e){Ce(e.target.value)},value:je},S.a.createElement(b.default,{value:1},"是"),S.a.createElement(b.default,{value:0},"否"))),S.a.createElement(v.a,{title:"设置团队长",visible:Se,onOk:function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.awrap(Ve({user_id:ae.user_id,is_team_leader:Pe}));case 2:Ae(!1);case 3:case"end":return e.stop()}}))},onCancel:function(){Ae(!1)}},S.a.createElement("p",null,"设置团队长"),S.a.createElement(b.default.Group,{onChange:function(e){Me(e.target.value)},value:Pe},S.a.createElement(b.default,{value:1},"是"),S.a.createElement(b.default,{value:0},"否"))),S.a.createElement(v.a,{title:1===ae.status?"冻结":"解冻",visible:Ge,onOk:function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.awrap(Te({action:1===ae.status?1:2,user_ids:[ae.user_id]}));case 2:He(!1);case 3:case"end":return e.stop()}}))},onCancel:function(){He(!1)}},S.a.createElement("p",null,"确认",1===ae.status?"冻结":"解冻","？")))}))},Pxbj:function(e,t,n){},ZeME:function(e,t,n){},lxvL:function(e,t,n){"use strict";n("L/Qf");var a=n("2/Rp"),r=n("q1tI"),i=n.n(r),c=n("4i/N");n("79Qs");t.a=function(e){var t=e.title,n=e.onGetActiveList,r=e.onClose,s=e.onAdd;return i.a.createElement("div",{className:"inner-page-head"},t,n?i.a.createElement(a.a,{className:"active-btn",onClick:n},"双十一活动排行榜"):"",s?i.a.createElement(a.a,{className:"active-btn",type:"primary",onClick:s},"发布公告"):"",r?i.a.createElement(c.a,{className:"close-icon",onClick:r}):"")}}}]);